---
alwaysApply: true
---
# CursorColdStart 项目维护规则

> **重要：** 这是 CursorColdStart 项目的**维护**规则，用于指导规则模板的提取和整合。
> 
> **相关规则：** 关于项目开发规范，请参考 `00-core.mdc`

## 🎯 项目目标

CursorColdStart 是一个项目初始化系统，通过组件化的规则模板帮助新项目快速启动。本项目需要持续维护和改进。

## 📋 核心原则

1. **持续改进** - 从实际项目中提取优秀实践，不断优化规则模板
2. **组件化** - 规则按类型分类（common/languages/frameworks/platforms）
3. **可追溯** - 记录规则来源和整合历史
4. **质量优先** - 确保规则通用性、清晰性和可执行性

## 🔄 规则提取和整合流程

### 触发条件

当用户要求"分析项目"、"提取规则"或"整合规则"时，AI助手必须执行以下流程。

### 步骤1：配置目标项目

**AI操作：**
1. 检查 `rules_template/extract/projects/` 目录
2. 如果项目不存在，询问用户项目路径
3. 创建软链接或记录项目路径

**命令：**
```bash
# 创建软链接
cd rules_template/extract/projects
ln -s /path/to/target-project project-name
```

### 步骤2：分析目标项目

**AI操作：**
1. **分析项目结构**
   - 读取项目目录结构
   - 分析文件组织方式
   - 识别模块划分

2. **分析代码实践**
   - 检查日志使用方式
   - 分析错误处理模式
   - 查看调试方法
   - 检查脚本组织

3. **分析规则文件**
   - 读取 `.cursor/rules/` 中的规则文件
   - 分析规则的应用效果
   - 识别项目特定的规则

4. **识别优秀实践**
   - 找出特别有效的实践
   - 评估可推广性
   - 记录应用场景

**输出：**
- 生成分析报告到 `rules_template/extract/analysis/[project-name]-analysis.md`
- 使用模板：`rules_template/extract/analysis/template-analysis-report.md`

### 步骤3：提取规则

**AI操作：**
1. 根据分析报告，识别值得推广的实践
2. 将实践转化为规则格式
3. 确定规则分类（common/languages/frameworks/platforms）
4. 评估规则优先级（高/中/低）

**规则文件格式：**
- 文件名：`[category]-[description].md`
- 位置：`rules_template/extract/rules/[category]/`
- 内容：规则草案 + 来源项目 + 应用场景

**规则内容模板：**
```markdown
---
alwaysApply: true
---
# [规则标题]

## 来源
- **项目：** [项目名称]
- **提取时间：** [时间]
- **优先级：** [高/中/低]

## 规则内容
[规则内容]

## 应用场景
[何时使用此规则]

## 效果评估
[规则带来的好处]
```

### 步骤4：审查规则

**AI操作：**
1. **检查通用性**
   - ✅ 规则是否适用于多个项目？
   - ✅ 规则是否不只是项目特定？

2. **检查清晰性**
   - ✅ 规则描述是否清晰？
   - ✅ 规则是否易于理解？

3. **检查可执行性**
   - ✅ 规则是否可操作？
   - ✅ AI是否可以执行？

4. **检查分类**
   - ✅ 规则分类是否正确？
   - ✅ 规则优先级是否合理？

### 步骤5：整合规则

**AI操作：**
1. **选择目标模板**
   - 确定要整合到的模板文件
   - 检查模板文件是否存在

2. **整合规则**
   - 将规则内容添加到模板文件
   - 确保格式一致
   - 更新占位符（如果需要）

3. **更新整合日志**
   - 记录到 `rules_template/extract/integration/integration-log.md`
   - 包含：日期、来源项目、规则文件、规则内容、优先级

**整合日志格式：**
```markdown
## [日期]

### [规则名称]

- **来源项目：** [项目名称]
- **规则文件：** `templates/rules/[category]/[file].template`
- **规则内容：** [简要描述]
- **优先级：** [高/中/低]
- **效果：** [效果描述]
```

## 📁 目录结构

```
rules_template/
├── extract/                    # 规则提取工作目录
│   ├── projects/              # 目标项目目录（软链接）
│   │   └── [project-name]/    # 具体项目
│   ├── rules/                 # 提取的规则（待审查）
│   │   ├── common/
│   │   ├── languages/
│   │   ├── frameworks/
│   │   └── platforms/
│   ├── analysis/              # 分析报告
│   │   └── [project-name]-analysis.md
│   └── integration/           # 整合记录
│       └── integration-log.md
└── templates/                 # 正式规则模板
    └── rules/
        ├── common/
        ├── languages/
        ├── frameworks/
        └── platforms/
```

## 🎯 分析检查清单

分析项目时，必须检查：

### 通用实践
- [ ] 日志使用方式
- [ ] 错误处理模式
- [ ] 调试方法
- [ ] 脚本组织
- [ ] 代码组织

### 语言特定
- [ ] 语言特性使用
- [ ] 代码规范
- [ ] 最佳实践

### 框架特定
- [ ] 框架特性使用
- [ ] 性能优化
- [ ] 架构模式

### 平台特定
- [ ] 平台工具使用
- [ ] 平台特定调试方法
- [ ] 平台特定最佳实践

## ✅ 规则整合标准

整合规则前，必须确保：

- ✅ **通用性** - 规则适用于多个项目，不只是项目特定
- ✅ **清晰性** - 规则描述清晰，易于理解
- ✅ **可执行** - 规则可操作，AI可以执行
- ✅ **优先级** - 规则优先级明确
- ✅ **分类正确** - 规则分类准确（common/languages/frameworks/platforms）
- ✅ **格式一致** - 规则格式符合模板规范

## 📝 示例工作流

### 用户请求
```
请分析项目 rules_template/extract/projects/flutter-camera-app，提取规则
```

### AI执行流程

1. **检查项目**
   ```bash
   ls rules_template/extract/projects/flutter-camera-app
   ```

2. **分析项目**
   - 读取项目结构
   - 分析代码实践
   - 检查规则文件
   - 识别优秀实践

3. **生成报告**
   - 保存到 `rules_template/extract/analysis/flutter-camera-app-analysis.md`

4. **提取规则**
   - 识别值得推广的实践
   - 生成规则草案
   - 保存到 `rules_template/extract/rules/`

5. **整合规则**
   - 审查规则
   - 整合到模板
   - 更新日志

## ⚠️ 禁止行为

- ❌ 跳过分析步骤直接整合规则
- ❌ 整合项目特定的规则（不通用）
- ❌ 不记录整合历史
- ❌ 不检查规则格式和分类
- ❌ 不评估规则优先级

## ✅ 必须遵守

- ✅ 严格按照流程执行
- ✅ 生成详细的分析报告
- ✅ 审查规则后再整合
- ✅ 记录所有整合历史
- ✅ 确保规则质量
