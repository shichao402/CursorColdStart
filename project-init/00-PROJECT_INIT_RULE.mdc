---
alwaysApply: true
---
# 项目初始化系统规则

> **重要：** 这是AI助手必须遵循的规则。当用户要求项目初始化时，AI助手必须按照此规则执行。

## 🎯 触发条件

当用户说以下任何一句话时，AI助手**必须**开始执行项目初始化流程：

- "请按照 PROJECT_INIT_PLAN.md 开始项目初始化"
- "开始项目初始化"
- "执行项目初始化计划"
- "按照计划初始化项目"
- "初始化项目"

## 📋 执行流程

### 步骤1：检查前置条件

AI助手**必须**首先检查：

1. **项目配置文件是否存在**
   ```bash
   # 检查 project-config.json 是否存在
   ls .cold-start/project-init/project-config.json
   ```
   - ✅ 如果存在：继续执行
   - ❌ 如果不存在：提示用户运行 start.sh 脚本收集项目信息

2. **初始化计划文档是否存在**
   ```bash
   # 检查 PROJECT_INIT_PLAN.md 是否存在
   ls .cold-start/project-init/PROJECT_INIT_PLAN.md
   ```
   - ✅ 如果存在：继续执行
   - ❌ 如果不存在：说明系统未正确安装

### 步骤2：生成项目初始化计划

AI助手**必须**：

1. **创建计划目录**
   ```bash
   mkdir -p .cursor/plans
   ```

2. **读取配置文件并生成计划文件**
   - 读取 `.cold-start/project-init/project-config.json` 获取项目信息
   - 读取 `.cold-start/project-init/templates/plans/00-project-init-plan.mdc`
   - 根据配置文件替换占位符
   - 保存到 `.cursor/plans/00-project-init-plan.mdc`

3. **读取执行指令**
   ```bash
   # 读取AI执行指令
   cat .cold-start/project-init/AI_EXECUTION_INSTRUCTIONS.md
   ```

**重要：** AI助手必须严格按照 `AI_EXECUTION_INSTRUCTIONS.md` 中的指令执行，不能跳过任何步骤。每完成一个步骤，必须更新计划文件中的状态。

### 步骤3：执行初始化流程

AI助手**必须**：

1. **读取计划文件** - 每步执行前，读取 `.cursor/plans/00-project-init-plan.mdc` 了解当前步骤
2. **按照计划执行** - 按照计划文件中的步骤顺序执行：
   - 读取项目计划文档
   - 技术选型确认
   - 创建日志服务
   - 创建日志收集脚本
   - 更新日志规则模板
   - 应用日志规则
   - 创建部署脚本
   - 更新脚本规则模板
   - 应用脚本规则
   - 更新调试规则
   - 更新核心规则
   - 更新开发规则（可选）
   - 验证完成
3. **更新计划文件** - 每完成一个步骤，更新计划文件中的状态标记（⏳ → ✅）
4. **更新进度统计** - 更新计划文件中的进度统计信息

### 步骤4：报告进度

AI助手**必须**在每完成一个步骤后：

- ✅ 报告步骤完成
- 📁 列出创建的文件
- 📋 列出应用的规则
- ⚠️ 如果有错误，报告错误并提供修复建议

### 步骤5：生成报告

初始化完成后，AI助手**必须**：

1. 创建 `PROJECT_INIT_REPORT.md` 文件
2. 列出所有创建的文件
3. 列出所有应用的规则
4. 提供下一步建议

## 📚 参考文档

AI助手在执行过程中**必须**参考以下文档：

- `.cold-start/project-init/AI_EXECUTION_INSTRUCTIONS.md` - 详细执行指令
- `.cold-start/project-init/PROJECT_INIT_PLAN.md` - 初始化计划
- `.cold-start/project-init/TECH_STACK_QUESTIONNAIRE.md` - 技术选型问答模板
- `.cold-start/project-init/TEMPLATE_PLACEHOLDERS.md` - 模板占位符说明

## ⚠️ 禁止行为

AI助手**禁止**：

- ❌ 跳过任何步骤
- ❌ 不读取执行指令就直接执行
- ❌ 不验证文件就继续下一步
- ❌ 不报告进度就继续执行
- ❌ 遇到错误不报告就继续

## ✅ 必须遵守

AI助手**必须**：

- ✅ 严格按照执行指令执行
- ✅ 每步完成后报告进度
- ✅ 需要用户输入时明确说明
- ✅ 创建文件后验证文件正确性
- ✅ 替换模板后验证占位符是否全部替换
- ✅ 应用规则后验证规则文件格式
- ✅ 完成所有步骤后生成报告

## 🎯 成功标准

项目初始化成功的标准：

- ✅ 所有规则文件已创建并应用（.cursor/rules/*.mdc）
- ✅ 日志服务已实现并可用
- ✅ 日志收集脚本已创建
- ✅ 部署脚本已创建（如果需要）
- ✅ 所有规则文件格式正确
- ✅ 项目可以开始正常开发

---

**重要提示：** 这是AI助手必须遵循的规则。当用户触发项目初始化时，AI助手必须严格按照此规则和执行指令执行。
